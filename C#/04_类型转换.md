# C# 类型转换

## 隐式类型转换

- 隐式转换是不需要编写代码来指定的转换，编译器会自动进行。

```csharp
byte b = 10;
int i = b; // 隐式转换，不需要显式转换
```

## 显式转换

- 显式类型转换，即强制类型转换，需要程序员在代码中明确指定。

```csharp
int i = 10;
byte b = (byte)i; // 显式转换，需要使用强制类型转换符号
```

## C# 类型转换方法

- C# 类型转换方法包括:

- 使用 Convert 类
  - Convert 类提供了一组静态方法，可以在各种基本数据类型之间进行转换。

| 方法 | 描述 |
| --- | --- |
| Convert.ToBoolean() | 将值转换为 bool 类型 |
| Convert.ToByte() | 将值转换为 byte 类型 |
| Convert.ToChar() | 将值转换为 char 类型 |
| Convert.ToDateTime() | 将值转换为 DateTime 类型 |
| Convert.ToDecimal() | 将值转换为 decimal 类型 |
| Convert.ToDouble() | 将值转换为 double 类型 |
| Convert.ToInt16() | 将值转换为 short 类型 |
| Convert.ToInt32() | 将值转换为 int 类型 |
| Convert.ToInt64() | 将值转换为 long 类型 |
| Convert.ToSByte() | 将值转换为 sbyte 类型 |
| Convert.ToSingle() | 将值转换为 float 类型 |
| Convert.ToString() | 将值转换为 string 类型 |
| Convert.ToType() | 将值转换为指定类型 |
| Convert.ToUInt16() | 将值转换为 ushort 类型 |
| Convert.ToUInt32() | 将值转换为 uint 类型 |
| Convert.ToUInt64() | 将值转换为 ulong 类型 |


```csharp
string str = "123";
int num = Convert.ToInt32(str);
```

- 使用 Parse 方法
  - Parse 方法用于将字符串转换为对应的数值类型，如果转换失败会抛出异常。

| 方法 | 描述 |
| --- | --- |
| Boolean.Parse() | 将字符串转换为 bool 类型 |
| Byte.Parse() | 将字符串转换为 byte 类型 |
| Char.Parse() | 将字符串转换为 char 类型 |
| DateTime.Parse() | 将字符串转换为 DateTime 类型 |
| Decimal.Parse() | 将字符串转换为 decimal 类型 |
| Double.Parse() | 将字符串转换为 double 类型 |
| Int16.Parse() | 将字符串转换为 short 类型 |
| Int32.Parse() | 将字符串转换为 int 类型 |
| Int64.Parse() | 将字符串转换为 long 类型 |
| SByte.Parse() | 将字符串转换为 sbyte 类型 |
| Single.Parse() | 将字符串转换为 float 类型 |
| UInt16.Parse() | 将字符串转换为 ushort 类型 |
| UInt32.Parse() | 将字符串转换为 uint 类型 |
| UInt64.Parse() | 将字符串转换为 ulong 类型 |

```csharp
string str = "123.45";
double d = double.Parse(str);
```

- 使用 TryParse 方法
  - TryParse 方法类似于 Parse，但它不会抛出异常，而是返回一个布尔值指示转换是否成功。


| 方法 | 描述 |
| --- | --- |
| Boolean.TryParse(string, out bool) | 将字符串转换为 bool 类型，并将结果存储在 out 参数中 |
| Byte.TryParse(string, out byte) | 将字符串转换为 byte 类型，并将结果存储在 out 参数中 |
| Char.TryParse(string, out char) | 将字符串转换为 char 类型，并将结果存储在 out 参数中 |
| DateTime.TryParse(string, out DateTime) | 将字符串转换为 DateTime 类型，并将结果存储在 out 参数中 |
| Decimal.TryParse(string, out decimal) | 将字符串转换为 decimal 类型，并将结果存储在 out 参数中 |
| Double.TryParse(string, out double) | 将字符串转换为 double 类型，并将结果存储在 out 参数中 |
| Int16.TryParse(string, out short) | 将字符串转换为 short 类型，并将结果存储在 out 参数中 |
| Int32.TryParse(string, out int) | 将字符串转换为 int 类型，并将结果存储在 out 参数中 |
| Int64.TryParse(string, out long) | 将字符串转换为 long 类型，并将结果存储在 out 参数中 |
| SByte.TryParse(string, out sbyte) | 将字符串转换为 sbyte 类型，并将结果存储在 out 参数中 |
| Single.TryParse(string, out float) | 将字符串转换为 float 类型，并将结果存储在 out 参数中 |
| UInt16.TryParse(string, out ushort) | 将字符串转换为 ushort 类型，并将结果存储在 out 参数中 |
| UInt32.TryParse(string, out uint) | 将字符串转换为 uint 类型，并将结果存储在 out 参数中 |
| UInt64.TryParse(string, out ulong) | 将字符串转换为 ulong 类型，并将结果存储在 out 参数中 |

```csharp
string str = "123.45";
double d;
bool success = double.TryParse(str, out d);

if (success) {
    Console.WriteLine("转换成功: " + d);
} else {
    Console.WriteLine("转换失败");
}
```

