# C# 文件的输入与输出

- 一个 文件 是一个存储在磁盘中带有指定名称和目录路径的数据集合。当打开文件进行读写时，它变成一个 流。

## C# I/O 类

| 类 | 描述 |
| --- | --- |
| BinaryReader | 从二进制流读取原始数据。 |
| BinaryWriter | 以二进制格式写入原始数据。 |
| BufferedStream | 字节流的临时存储。 |
| Directory | 有助于操作目录结构。 |
| DirectoryInfo	| 用于对目录执行操作。 |
| DriveInfo	| 提供驱动器的信息。 |
| File | 有助于处理文件。 |
| FileInfo | 用于对文件执行操作。 |
| FileStream | 用于文件中任何位置的读写。 |
| MemoryStream | 用于随机访问存储在内存中的数据流。 |
| Path | 对路径信息执行操作。 |
| StreamReader | 用于从字节流中读取字符。 |
| StreamWriter | 用于向一个流中写入字符。 |
| StringReader | 用于读取字符串缓冲区。 |
| StringWriter | 用于写入字符串缓冲区。 |


## FileStream 类

- FileStream 类用于读取和写入文件。

### 创建 FileStream 对象的语法如下：

```csharp
    FileStream <object_name> = new FileStream( <file_name>,
            <FileMode Enumerator>, <FileAccess Enumerator>, <FileShare Enumerator>);
```

### FileMode 枚举

| 枚举值 | 描述 |
| --- | --- |
| CreateNew | 如果文件不存在，创建一个新文件。 |
| Create | 如果文件不存在，创建一个新文件。 |
| Open | 如果文件存在，打开文件。 |
| OpenOrCreate | 如果文件存在，打开文件。如果文件不存在，创建一个新文件。 |
| Truncate | 如果文件存在，截断文件。如果文件不存在，创建一个新文件。 |
| Append | 如果文件存在，打开文件。如果文件不存在，创建一个新文件。 |

### FileAccess 枚举

| 枚举值 | 描述 |
| --- | --- |
| Read | 只读文件。 |
| Write | 只写文件。 |
| ReadWrite | 可读可写文件。 |

### FileShare 枚举

| 枚举值 | 描述 |
| --- | --- |
| None | 不共享文件。 |
| Read | 共享文件以供读取。 |
| Write | 共享文件以供写入。 |
| ReadWrite | 共享文件以供读取和写入。 |
| Inheritable | 共享文件以供子进程继承。 |
| Delete | 共享文件以供删除。 |

```csharp
using System;
using System.IO;

class Program
{
    static void Main(string[] args)
    {
        // 创建一个文件流对象
        FileStream fs = new FileStream("test.txt", FileMode.OpenOrCreate, FileAccess.ReadWrite);

        // 将文件流对象关闭
        fs.Close();
    }
}
```